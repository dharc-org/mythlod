<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Collapsible sidebar using Bootstrap 4</title>

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="style5.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">


            <!-- Bootstrap core JavaScript -->
    
        
        <!--boostrap-->
        <link href="homepage/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!-- <link href="homepage/css/full-width-pics.css" rel="stylesheet"> --> 
        <!-- <script src="https://code.jquery.com/jquery-1.6.2.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> 
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        --> 
    

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>




</head>

<body onload="myFunction()" style="margin:0;">

    <div class="wrapper">
        <!-- Sidebar Holder -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3 style="text-align: right;">Mythologiae <br>Catalogue</h3>  
            </div>
            <hr>
            <div class="row pl-2 pr-2" style="box-sizing: inherit;width:100%">
            <div class="col-10">Browse the MythLOD collection through facets over the layered model</div>
            <div class="col-2" style="box-sizing: inherit"><button class="btn" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
              <i class="fas fa-info"></i></button></div>
              <div class="collapse col-12" id="collapseExample" style="box-sizing: inherit;">
                <div class="card card-body legenda" style="box-sizing: inherit !important; width:100% !important">
                  <div><span class="badge badge-warning">Factual Data</span> includes the information deemed not to be questionable;</div>
                  <div><span class="badge badge-info">Assertion Data</span> includes expertsâ€™ statements formulated over the artefact, which are deemed to be questionable;</div>
                  <div><span class="badge badge-danger">Provenance</span> includes contextual information on a statement;</div>
                </div>
              </div>
            </div>
            <hr>
            <ul class="list-unstyled components" id=facets>
            </ul><hr>
        </nav>

        <!-- Page Content Holder -->
        <div id="content">

            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">

                    <button type="button" id="sidebarCollapse" class="navbar-btn">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="#">Page</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Page</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Page</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Page</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div id="loader"></div>
            <div style="display:none;" id="myDiv" class="animate-bottom"></div>
                <div class="cards-wrapper" style="max-width:100% !important;">
                <div class="card-columns">
                <div id=results></div>
                </div>
            </div> 
            </div>
        </div>
    </div>   

    <script>
        var myVar;
        
        function myFunction() {
          myVar = setTimeout(showPage, 3000);
        }
        
        function showPage() {
          document.getElementById("loader").style.display = "none";
          document.getElementById("myDiv").style.display = "block";
        }
        </script>
    



    <!-- things from faceted search -->
    <script src="homepage/vendor/jquery/jquery.min.js"></script>
    <script src="homepage/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="dependencies/jquery-1.6.2.js"></script>
    <script src="json_records/cat_ex.js"></script>
    <script src="dependencies/underscore-1.1.7.js"></script>
    <script src="facetedsearch.js"></script>

    <script type="text/javascript">
        var jQuery_faceted = $.noConflict(true);
    </script>


    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script> -->

    <script type="text/javascript">
        var jQuery_sidebar = $.noConflict(true);
    </script>   
   

<script>
  function filterFunction(input) {
  var filter, ul, li, a, i;
  filter = input.value.toUpperCase();
  div = input.parentElement;
  a = div.getElementsByClassName("facetitem");
  for (i = 0; i < a.length; i++) {
    txtValue = a[i].textContent || a[i].innerText;
    if (txtValue.toUpperCase().indexOf(filter) > -1) {
      a[i].style.display = "";
    } else {
      a[i].style.display = "none";
    }
  }
  }





  jQuery_faceted(function(){
   for (var x in example_items) {
          // example_items[x]["periodLabel"] = example_items[x]["periodLabel"].split('@')
          example_items[x]["keywords"] = example_items[x]["keywords"].split('@')
           example_items[x]["categs_labels"] = example_items[x]["categs_labels"].split('@')
           if (example_items[x]["works_labels"]) {
           example_items[x]["works_labels"] = example_items[x]["works_labels"].split('@')}
           if (example_items[x]["cits_labels"]) {
           example_items[x]["cits_labels"] = example_items[x]["cits_labels"].split('@')}
           if (example_items[x]["works_author_label"]) {
           example_items[x]["works_author_label"] = example_items[x]["works_author_label"].split('@') }
           if (example_items[x]["works_types_labels"]) {
           example_items[x]["works_types_labels"] = example_items[x]["works_types_labels"].split('@') }
           if (example_items[x]["perseus_links"]) {
           example_items[x]["perseus_links"] = example_items[x]["perseus_links"].split('@') }
           // example_items[x]["works_types_label"] = example_items[x]["works_types_label"].split('@')  
        } 

   /*     var item_template = 
          '<div class="card p-3" style="box-sizing: inherit;"><img class="card-img-top box-sizing:inherit" src="<%= obj.img %>"><div class="card-body">' + 
        '<h5 class="card-title"><%= obj.title %></h5>' +
        '<p class="tags">' + 
             '<h4>Factual Data</h4><div class="factual_data"><% if (obj.item_author_label) {  %> <b>Author:</b> <%= obj.item_author_label %><a href="<%= obj.item_author_viaf %>" target="_blank"><img src="http://viaf.org/images/viaf.ico" style="height:16px;width:16px"></a><% } %>' +
             '<br><% if (obj.item_type_label){  %> <b>Typology:</b> <%= obj.item_type_label %> <% } %>' +
             '<br><% if (obj.keywords) {  %> <b>Keywords:</b> <%= obj.keywords %> <% } %>' +
             '<br> <% if (obj.collocazione_label) {  %><b>Collocation:</b> <%= obj.collocazione_label %>, <%= obj.citta_label %> (<%= obj.nazione_label %>)  <% } %>' +
             '<br> <% if (obj.periodo_label) {  %><b>Period:</b> <%= obj.periodo_label %>, <%= obj.secolo_label %> (<%= obj.data_label %>)  <% } %> </div>' +
             '<h4>Assertion</h4><div class="assertion"><% if (obj.categs_labels) {  %> <b>Categories:</b> <%= obj.categs_labels %> <% } %> <br><b>Canonical Citations: </b><br>' + 
             '<% if (obj.cits_labels && obj.perseus_links) {%><%= _.each(obj.cits_labels, function(item, index){ _.each(obj.perseus_links.split(\'@\'), function(pers, index2){if (index === index2) {__p.push(item%><a href=<%=pers%> target=__blank><img src=http://www.perseus.tufts.edu/hopper/favicon.ico></img></a><br><%=)}})})%><% } %><b>Other References: </b><br>' +
             '<% if (obj.works_labels && obj.work_viafs) {%><%= _.each(obj.works_labels, function(work, index){ _.each(obj.work_viafs.split(\'@\'), function(viaf, index2){if (index === index2) {__p.push(work%><a href=<%=viaf%> target=__blank><img src="http://viaf.org/images/viaf.ico" style="height:16px;width:16px"></a><br><%=)}})})%><% } %></div>' +
             '<h4>Provenance</h4><div class="provenance"><% if (obj.int_type_label) {  %> <b>Interpretation Type:</b> <%= obj.int_type_label %> <% } %>' +
             '<br> <% if (obj.int_crit_label) {  %> <b>Interpretation Criterion:</b> <%= obj.int_crit_label %> <% } %>' +
             '<br> <% if (obj.int_person_label) {  %> <b>Interpretation Performer:</b> <%= obj.int_person_label %> <% } %></div>' +
             '</p> <a style="display:none" href="<%= obj.item %>" class="btn btn-primary">Go somewhere</a>' +
             '' + 
             '</div></div>' ; */



var item_template = 
          '<div class="card" style="box-sizing: inherit;"><img class="card-img-top box-sizing:inherit" src="<%= obj.img %>"><div class="card-body">' + 
        '<p class="tags">' + 
             '<div><h4>Factual Data</h4><div class="factual_data"><b>Title: </b><%= obj.title %>' +
             '<% if (obj.item_author_label) {  %> <br><b>Author:</b> <%= obj.item_author_label %><a href="<%= obj.item_author_viaf %>" target="_blank"><img src="http://viaf.org/images/viaf.ico" style="height:16px;width:16px"></a><% } %>' +
             '<% if (obj.keywords) %><br><b>Keywords: </b><% {%> <%= _.each(obj.keywords, function(k, index){__p.push(\'<span class="badge badge-outline-dark mr-1">\',k,\'</span>\')})%><% } %>' + 
             '<% if (obj.item_type_label){  %><br><b>Typology:</b> <%= obj.item_type_label %> <% } %>' +
             '<% if (obj.collocazione_label) {  %><br><b>Collocation:</b> <%= obj.collocazione_label %>, <%= obj.citta_label %> (<%= obj.nazione_label %>)  <% } %>' +
             '<% if (obj.periodo_label) {  %><br><b>Period:</b> <%= obj.periodo_label %>, <%= obj.secolo_label %> <%if (obj.data_label) {%>(<%= obj.data_label %>) <%}%> <% } %>' +
             '<% if (obj.description) { %><br><b>Description</b> <%= long_metadata_handler(obj.description, obj.item) %> <span class="read_more" onclick=showmore_metadata("<%=obj.item%>") id="showmoremetadata<%= obj.item.replace(\'https://dharc-org.github.io/mythologiae/item/\', \'_\') %>">Read More</span><%} %> '+
             '<% if (obj.url) { %><br><b>See Also:</b> <a href=<%= obj.url %> target="__blank">Resposible enitity website</a><% } %> </div></div><hr>' +
             '<h4>Assertion</h4><div class="assertion"><% if (obj.categs_labels) {  %> <b>Categories:</b> <%= obj.categs_labels %> <% } %>' +
             '<% if (obj.cits_labels && obj.perseus_links){%> <br><b>Canonical Citations</b>: <% _.each(obj.cits_labels, function(cit_label, index){%><% _.each(obj.perseus_links, function(perseus_link, index2){%><% if (index == index2){%><button class="btn btn-outline-dark m-1" type="button" data-toggle="collapse" data-target="#<%=obj.item.replace(\'https://dharc-org.github.io/mythologiae/item/\', \'item\')%>_cit<%=index2%>" aria-expanded="false" aria-controls="collapseExample"><%=cit_label%></button> <div class="collapse" id="<%=obj.item.replace(\'https://dharc-org.github.io/mythologiae/item/\', \'item\')%>_cit<%=index2%>"><div class="card" style="font-size:0.8em"><%if (perseus_link != \'None\') {%><div class="card-header">Go to the Perseus resource of this reference<a href=<%=perseus_link%> target="__blank"><img src="http://www.perseus.tufts.edu/hopper/favicon.ico" style="height:16px;width:16px"></img></a></div> <%}%></div></div><%}})})} %> </b>' +
             '<% if (obj.works) {%><br><b>General References:</b><% _.each(works_UI(obj), function(work_metadata, index){%><button class="btn btn-outline-dark m-1" type="button" data-toggle="collapse" data-target="#<%=obj.item.replace(\'https://dharc-org.github.io/mythologiae/item/\', \'v\'), work_metadata[0].replace(\'https://dharc-org.github.io/mythologiae/work/\', \'\')%>" aria-expanded="false" aria-controls="collapseExample"><%=work_metadata[1]%></button><div class="collapse" id="<%=obj.item.replace(\'https://dharc-org.github.io/mythologiae/item/\', \'v\'), work_metadata[0].replace(\'https://dharc-org.github.io/mythologiae/work/\', \'\')%>"><div class="card" style="font-size:0.8em"><%if (work_metadata[2] != \'None\') {%><div class="card-header">Go to VIAF resource of this reference<a href=<%=work_metadata[2]%> target="__blank"><img src="http://viaf.org/images/viaf.ico" style="height:16px;width:16px"></img></a></div> <%}%> <div class="card-body"><b>Reference Type</b>: <%=work_metadata[5]%><br><b>Reference Author</b>: <%=work_metadata[4]%> <% if (work_metadata[3] != \'None\') { %> <a href="<%= work_metadata[3] %>" target="_blank"><img src="http://viaf.org/images/viaf.ico" style="height:16px;width:16px"></a> <%}%> </div></div></div><%;})}%></div><hr>' +
             //'<% if (obj.works_labels){%><br><b>General References: </b><br> <% _.each(obj.works_labels, function(work, index){%><% _.each(obj.work_viafs.split(\'@\'), function(viaf, index2){%><%if(index === index2){%><div><button class="btn btn-outline-dark m-1" type="button" data-toggle="collapse" data-target="#<%=obj.item.replace(\'https://dharc-org.github.io/mythologiae/item/\', \'v\'), viaf.replace(\'http://viaf.org/viaf/\', \'\')%>" aria-expanded="false" aria-controls="collapseExample"><%=work%></button><div class="collapse" id="<%=obj.item.replace(\'https://dharc-org.github.io/mythologiae/item/\', \'v\'), viaf.replace(\'http://viaf.org/viaf/\', \'\')%>"><div class="card"><div class="card-header">Go to VIAF resource of this reference<a href=<%=viaf%>><img src="http://www.perseus.tufts.edu/hopper/favicon.ico" target="__blank" style="height:16px;width:16px"></img></a><br></div></div></div></div><%}});})}%>' +
             '<h4>Provenance</h4><div class="provenance"><% if (obj.int_type_label) {  %> <b>Interpretation Type:</b> <%= obj.int_type_label %> <% } %>' +
             '<% if (obj.int_crit_label) {  %><br>  <b>Interpretation Criterion:</b> <%= obj.int_crit_label %> <% } %>' +
             '<% if (obj.int_person_label) {  %> <br> <b>Interpretation Performer:</b> <%= obj.int_person_label %> <% } %></div>' +
             '</p> <a style="display:none" href="<%= obj.item %>" class="btn btn-primary">Go somewhere</a>' +
             '</div></div>' ; 
             
        settings = { 
          items            : example_items,
          facets           : { 
                              'collocazione_label': 'Collocation',
                              'periodo_label': 'Period',   
                              'keywords': 'Keywords' ,
                              'item_type_label': 'Type',
                              'item_author_label':'Author' , 
                              'categs_labels' : 'Category', 
                              'works_types_labels' : 'Reference Type' , 
                              'works_labels' : 'References' , 
                              'works_author_label' : 'References Authors', 
                              'int_type_label' : 'Interpretation Type', 
                              'int_crit_label' : 'Interpretation Criterion',
                              'int_person_label' : 'Interpretation Performer'
                            },  
          resultSelector   : '#results',
          facetSelector    : '#facets',
          resultTemplate   : item_template,
          paginationCount  : 50,
          orderByOptions   : {'firstname': 'First name', 'lastname': 'Last name', 'category': 'Category', 'RANDOM': 'Random'},
          facetSortOption  : {'continent': ["North America", "South America"]}
        }   


        // use them!
        jQuery_faceted.facetelize(settings);


      });      
      // Most of the time I suppose you would use jQuery to get your data; 
          /*
            $.getJSON( "http:/example.com", function(data){ 
              $.facetelize....
            });
          */


    </script>   

    <script type="text/javascript">
        jQuery_sidebar(document).ready(function () {
            jQuery_sidebar('#sidebarCollapse').on('click', function () {
                jQuery_sidebar('#sidebar').toggleClass('active');
                jQuery_sidebar(this).toggleClass('active');

            });
        });
    </script>




</body>

</html>